import { connect as t } from "cloudflare:sockets";
let e = atob("ZWM4NzJkOGYtNzJiMC00YTA0LWI2MTItMDMyN2Q4NWUxOGVk"),
  r = atob("NDQz"),
  n = [
    atob("cHJveHlpcC5hbWNsdWJzLmNhbWR2ci5vcmc="),
    atob("cHJveHlpcC5hbWNsdWJzLmtvem93LmNvbQ=="),
    atob("UHJveHlJUC5VUy5DTUxpdXNzc3MubmV0"),
  ],
  a = n[Math.floor(Math.random() * n.length)],
  s = [],
  i = !0,
  o = atob("aHR0cHM6Ly8xLjEuMS4xL2Rucy1xdWVyeQ=="),
  c = atob("MjYwMjpmYzU5OmIwOjY0Ojo="),
  h = [],
  l = "",
  u = !1,
  d = {},
  f = atob(
    "aHR0cHM6Ly9za3kucmV0aGlua2Rucy5jb20vMTotUGZfX19fXzlfOEFfQU1BSWdFOGtNQUJWRERtS09IVEFLZz0=",
  );
atob("5pWw5a2X5aWX5Yip");
let p = !1,
  y = atob("aHR0cHM6Ly95b3V0dWJlLmNvbS9AYW1fY2x1YnM/c3ViX2NvbmZpcm1hdGlvbj0x"),
  w = atob("aHR0cHM6Ly90Lm1lL2FtX2NsdWJz"),
  m = atob("aHR0cHM6Ly9naXRodWIuY29tL2FtY2x1YnMvYW0tY2YtdHVubmVs"),
  b = atob("aHR0cHM6Ly9hbWNsdWJzcy5jb20="),
  g = "5pWw5a2X5aWX5Yip";
if (!A(e)) throw new Error("id is invalid");
var v = {
  async fetch(t, n, o) {
    try {
      let {
        ID: o,
        PADDR: y,
        P64: w,
        P64PREFIX: m,
        S5: b,
        D_URL: v,
        ENABLE_LOG: D,
      } = n;
      const _ = await $(n);
      let L = {};
      _ ||
        ((L = (await T(n)) || {}),
        k(
          `[fetch]--\x3e kv_id = ${L.kv_id}, kv_pDomain = ${JSON.stringify(L.pDomain)}, kv_p64Domain = ${JSON.stringify(L.kv_p64Domain)}`,
        ));
      const C = new URL(t.url);
      if (
        ((p = C.searchParams.get("ENABLE_LOG") || D || p),
        (e = (L.kv_id || o || e).toLowerCase()),
        k(`[fetch]--\x3e id = ${e}`),
        (a = C.searchParams.get("PADDR") || y || a),
        a)
      ) {
        const [t, e] = a.split(":");
        ((a = t), (r = e || r));
      }
      ((s = L.kv_pDomain || s),
        k(`[fetch]--\x3e pDomain = ${JSON.stringify(s)}`),
        (i = C.searchParams.get("P64") || w || i),
        (c = C.searchParams.get("P64PREFIX") || m || c),
        (h = L.kv_p64Domain || h),
        k(`[fetch]--\x3e p64Domain = ${JSON.stringify(h)}`),
        (l = C.searchParams.get("S5") || b || l),
        (d = await (async function (t, e) {
          /\/s5?=/.test(e.pathname)
            ? (t = e.pathname.split("5=")[1])
            : /\/socks[5]?:\/\//.test(e.pathname) &&
              (t = e.pathname.split("://")[1].split("#")[0]);
          const r = t.indexOf("@");
          if (-1 !== r) {
            let e = t.substring(0, r);
            (/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i.test(
              e,
            ) &&
              !e.includes(":") &&
              (e = atob(e)),
              (t = `${e}@${t.substring(r + 1)}`));
          }
          if (t)
            try {
              return (function (t) {
                let e,
                  r,
                  n,
                  a,
                  [s, i] = t.split("@").reverse();
                if (i) {
                  const t = i.split(":");
                  if (2 !== t.length)
                    throw new Error(
                      'Invalid S address format: authentication must be in the "username:password" format',
                    );
                  [e, r] = t;
                }
                const o = s.split(":");
                if (((a = Number(o.pop())), isNaN(a)))
                  throw new Error(
                    "Invalid S address format: port must be a number",
                  );
                n = o.join(":");
                if (n.includes(":") && !/^\[.*\]$/.test(n))
                  throw new Error(
                    "Invalid S address format: IPv6 addresses must be enclosed in brackets, e.g., [2001:db8::1]",
                  );
                return { username: e, password: r, hostname: n, port: a };
              })(t);
            } catch (t) {
              return (x(t.toString()), null);
            }
          return null;
        })(l, C)),
        d && (u = !0),
        (f = C.searchParams.get("D_URL") || v || f));
      let B = C.searchParams.get(atob("UFJPVF9UWVBF"));
      if (
        (B && (B = B.toLowerCase()), "websocket" === t.headers.get("Upgrade"))
      )
        return B ===
          (function (t, e) {
            const r = Uint8Array.from(atob(t), (t) => t.charCodeAt(0)),
              n = new TextEncoder(),
              a = new TextDecoder(),
              s = n.encode(e),
              i = new Uint8Array(r.length);
            for (let t = 0; t < r.length; t++) i[t] = r[t] ^ s[t % s.length];
            return a.decode(i);
          })("EBMbCxUX", "datatype")
          ? await (async function (t) {
              const r = new WebSocketPair(),
                [n, a] = Object.values(r);
              a.accept();
              let s = "",
                i = "";
              const o = { value: null },
                c = (t, e = "") => {},
                h = t.headers.get("sec-websocket-protocol") || "",
                l = O(a, h, c),
                u = async (t) => {
                  if (o.value) {
                    const e = o.value.writable.getWriter();
                    return (await e.write(t), void e.releaseLock());
                  }
                  const {
                    hasError: r,
                    message: n,
                    portRemote: h = 443,
                    addressRemote: l = "",
                    rawClientData: u,
                    addressType: d,
                  } = await (async function (t, e) {
                    if (t.byteLength < 56)
                      return { hasError: !0, message: "invalid data" };
                    let r = 56;
                    if (
                      13 !== new Uint8Array(t.slice(56, 57))[0] ||
                      10 !== new Uint8Array(t.slice(57, 58))[0]
                    )
                      return {
                        hasError: !0,
                        message: "invalid header format (missing CR LF)",
                      };
                    if (
                      new TextDecoder().decode(t.slice(0, r)) !==
                      sha256.sha224(e)
                    )
                      return { hasError: !0, message: "invalid password" };
                    const n = t.slice(r + 2);
                    if (n.byteLength < 6)
                      return {
                        hasError: !0,
                        message: "invalid S5 request data",
                      };
                    const a = new DataView(n);
                    if (1 !== a.getUint8(0))
                      return {
                        hasError: !0,
                        message:
                          "unsupported command, only TCP (CONNECT) is allowed",
                      };
                    const s = a.getUint8(1);
                    let i = 0,
                      o = 2,
                      c = "";
                    switch (s) {
                      case 1:
                        ((i = 4),
                          (c = new Uint8Array(n.slice(o, o + i)).join(".")));
                        break;
                      case 3:
                        ((i = new Uint8Array(n.slice(o, o + 1))[0]),
                          (o += 1),
                          (c = new TextDecoder().decode(n.slice(o, o + i))));
                        break;
                      case 4:
                        i = 16;
                        const t = new DataView(n.slice(o, o + i)),
                          e = [];
                        for (let r = 0; r < 8; r++)
                          e.push(t.getUint16(2 * r).toString(16));
                        c = e.join(":");
                        break;
                      default:
                        return {
                          hasError: !0,
                          message: `invalid addressType is ${s}`,
                        };
                    }
                    if (!c)
                      return {
                        hasError: !0,
                        message: `address is empty, addressType is ${s}`,
                      };
                    const h = o + i,
                      l = n.slice(h, h + 2),
                      u = new DataView(l).getUint16(0);
                    return {
                      hasError: !1,
                      addressRemote: c,
                      portRemote: u,
                      rawClientData: n.slice(h + 4),
                      addressType: s,
                    };
                  })(t, e);
                  if (((s = l), (i = `${h}--${Math.random()} tcp`), r))
                    throw new Error(n);
                  W(o, l, h, u, a, null, c, d);
                };
              return (
                l
                  .pipeTo(
                    new WritableStream({
                      write: u,
                      close: () => c("readableWebSocketStream is closed"),
                      abort: (t) =>
                        c(
                          "readableWebSocketStream is aborted",
                          JSON.stringify(t),
                        ),
                    }),
                  )
                  .catch((t) => {
                    c("readableWebSocketStream pipeTo error", t);
                  }),
                new Response(null, { status: 101, webSocket: n })
              );
            })(t)
          : await (async function (t) {
              const r = new WebSocketPair(),
                [n, a] = Object.values(r);
              a.accept();
              let s = "",
                i = "";
              new Date();
              const o = (t, e) => {},
                c = t.headers.get("sec-websocket-protocol") || "",
                h = O(a, c, o);
              let l = { value: null },
                u = null,
                d = !1;
              return (
                h
                  .pipeTo(
                    new WritableStream({
                      async write(t, r) {
                        if (d && u) return u(t);
                        if (l.value) {
                          const e = l.value.writable.getWriter();
                          return (await e.write(t), void e.releaseLock());
                        }
                        const {
                          hasError: n,
                          portRemote: c = 443,
                          addressRemote: h = "",
                          rawDataIndex: p,
                          channelVersion: y = new Uint8Array([0, 0]),
                          isUDP: w,
                          addressType: m,
                        } = (function (t, e) {
                          if (t.byteLength < 24)
                            return { hasError: !0, message: "invalid data" };
                          const r = new Uint8Array(t.slice(0, 1));
                          let n = !1,
                            a = !1;
                          const s = (function (t, e = 0) {
                              const r = (function (t, e = 0) {
                                return (
                                  S[t[e + 0]] +
                                  S[t[e + 1]] +
                                  S[t[e + 2]] +
                                  S[t[e + 3]] +
                                  "-" +
                                  S[t[e + 4]] +
                                  S[t[e + 5]] +
                                  "-" +
                                  S[t[e + 6]] +
                                  S[t[e + 7]] +
                                  "-" +
                                  S[t[e + 8]] +
                                  S[t[e + 9]] +
                                  "-" +
                                  S[t[e + 10]] +
                                  S[t[e + 11]] +
                                  S[t[e + 12]] +
                                  S[t[e + 13]] +
                                  S[t[e + 14]] +
                                  S[t[e + 15]]
                                ).toLowerCase();
                              })(t, e);
                              if (!A(r))
                                throw TypeError("Stringified ID is invalid");
                              return r;
                            })(new Uint8Array(t.slice(1, 17))),
                            i = e.includes(",") ? e.split(",") : [e];
                          if (
                            ((n =
                              i.some((t) => s === t.trim()) ||
                              (1 === i.length && s === i[0].trim())),
                            !n)
                          )
                            return { hasError: !0, message: "invalid user" };
                          const o = new Uint8Array(t.slice(17, 18))[0],
                            c = new Uint8Array(t.slice(18 + o, 18 + o + 1))[0];
                          if (1 === c) a = !1;
                          else {
                            if (2 !== c)
                              return {
                                hasError: !0,
                                message: `command ${c} is not support, command 01-tcp,02-udp,03-mux`,
                              };
                            a = !0;
                          }
                          const h = 18 + o + 1,
                            l = t.slice(h, h + 2),
                            u = new DataView(l).getUint16(0);
                          let d = h + 2;
                          const f = new Uint8Array(t.slice(d, d + 1))[0];
                          let p = 0,
                            y = d + 1,
                            w = "";
                          switch (f) {
                            case 1:
                              ((p = 4),
                                (w = new Uint8Array(t.slice(y, y + p)).join(
                                  ".",
                                )));
                              break;
                            case 2:
                              ((p = new Uint8Array(t.slice(y, y + 1))[0]),
                                (y += 1),
                                (w = new TextDecoder().decode(
                                  t.slice(y, y + p),
                                )));
                              break;
                            case 3:
                              p = 16;
                              const e = new DataView(t.slice(y, y + p)),
                                r = [];
                              for (let t = 0; t < 8; t++)
                                r.push(e.getUint16(2 * t).toString(16));
                              w = r.join(":");
                              break;
                            default:
                              return {
                                hasError: !0,
                                message: `invild  addressType is ${f}`,
                              };
                          }
                          if (!w)
                            return {
                              hasError: !0,
                              message: `addressValue is empty, addressType is ${f}`,
                            };
                          return {
                            hasError: !1,
                            addressRemote: w,
                            portRemote: u,
                            rawDataIndex: y + p,
                            channelVersion: r,
                            isUDP: a,
                            addressType: f,
                          };
                        })(t, e);
                        if (
                          ((s = h),
                          (i = `${c} ${w ? "udp" : "tcp"} `),
                          o(
                            `handleRequestHeader--\x3e${m} Processing TCP outbound connection ${h}:${c}`,
                          ),
                          n)
                        )
                          throw new Error(message);
                        if (w && 53 !== c)
                          throw new Error(
                            "UDP proxy only enabled for DNS which is port 53",
                          );
                        w && 53 === c && (d = !0);
                        const b = new Uint8Array([y[0], 0]),
                          g = t.slice(p);
                        if (d) {
                          const { write: t } = await (async function (t, e, r) {
                            let n = !1;
                            const a = new TransformStream({
                              start(t) {},
                              transform(t, e) {
                                for (let r = 0; r < t.byteLength; ) {
                                  const n = t.slice(r, r + 2),
                                    a = new DataView(n).getUint16(0),
                                    s = new Uint8Array(
                                      t.slice(r + 2, r + 2 + a),
                                    );
                                  ((r = r + 2 + a), e.enqueue(s));
                                }
                              },
                              flush(t) {},
                            });
                            a.readable
                              .pipeTo(
                                new WritableStream({
                                  async write(a) {
                                    const s = await fetch(f, {
                                        method: "POST",
                                        headers: {
                                          "content-type":
                                            "application/dns-message",
                                        },
                                        body: a,
                                      }),
                                      i = await s.arrayBuffer(),
                                      o = i.byteLength,
                                      c = new Uint8Array([
                                        (o >> 8) & 255,
                                        255 & o,
                                      ]);
                                    t.readyState === N &&
                                      (r(
                                        `doh success and dns message length is ${o}`,
                                      ),
                                      n
                                        ? t.send(
                                            await new Blob([
                                              c,
                                              i,
                                            ]).arrayBuffer(),
                                          )
                                        : (t.send(
                                            await new Blob([
                                              e,
                                              c,
                                              i,
                                            ]).arrayBuffer(),
                                          ),
                                          (n = !0)));
                                  },
                                }),
                              )
                              .catch((t) => {
                                t("dns udp has error" + t);
                              });
                            const s = a.writable.getWriter();
                            return {
                              write(t) {
                                s.write(t);
                              },
                            };
                          })(a, b, o);
                          return ((u = t), void u(g));
                        }
                        W(l, h, c, g, a, b, o, m);
                      },
                      close() {
                        o("readableWebSocketStream is close");
                      },
                      abort(t) {
                        o(
                          "readableWebSocketStream is abort",
                          JSON.stringify(t),
                        );
                      },
                    }),
                  )
                  .catch((t) => {
                    o("readableWebSocketStream pipeTo error", t);
                  }),
                new Response(null, { status: 101, webSocket: n })
              );
            })(t);
      switch (C.pathname.toLowerCase()) {
        case "/" + e:
          return await R(n);
        case "/":
          return "GET" === t.method
            ? new Response("OK", { status: 200 })
            : await (async function (t, r) {
                if ("POST" === t.method) {
                  return (await t.formData()).get("password") === e
                    ? await R(r)
                    : new Response(
                        I({
                          base64Title: g,
                          suffix: "-登录失败",
                          heading: "❌ 登录失败",
                          bodyContent:
                            '\n                        <p>密码错误，请重新尝试。</p>\n                        <p><a href="/">返回登录页面</a></p>\n                    ',
                        }),
                        {
                          headers: {
                            "Content-Type": "text/html; charset=UTF-8",
                          },
                          status: 200,
                        },
                      );
                }
                return new Response(
                  I({
                    base64Title: g,
                    suffix: "-登录",
                    heading: "请输入密码登录",
                    bodyContent:
                      '\n                <form method="POST">\n                    <input type="password" name="password" placeholder="密码" required />\n                    <button type="submit">登录</button>\n                </form>\n            ',
                  }),
                  {
                    headers: { "Content-Type": "text/html; charset=UTF-8" },
                    status: 200,
                  },
                );
              })(t, n);
        case `/${e}/get`:
          return T(n);
        case `/${e}/set`:
          return (async function (t, e) {
            try {
              const {
                  kv_id: r,
                  kv_pDomain: n,
                  kv_p64Domain: a,
                } = await t.json(),
                s = { kv_id: r, kv_pDomain: E(n), kv_p64Domain: E(a) };
              return (
                await e.amclubs.put(U, JSON.stringify(s)),
                new Response("保存成功", { status: 200 })
              );
            } catch (t) {
              return new Response("保存失败: " + t.message, { status: 500 });
            }
          })(t, n);
        default:
          return Response.redirect(new URL("/", t.url));
      }
    } catch (t) {
      return new Response(`Error: ${t.message}`, { status: 500 });
    }
  },
};
function k(...t) {}
function x(...t) {}
function A(t) {
  return /^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(
    t,
  );
}
const S = [];
for (let t = 0; t < 256; ++t) S.push((t + 256).toString(16).slice(1));
async function D(t, e, n, o = !1) {
  let c = t,
    l = e;
  try {
    (JSON.stringify(s), JSON.stringify(h));
    const u = (t, e) => {
        try {
          return (
            Array.isArray(t) &&
            t.some((t) =>
              (function (t, e) {
                if (!t || !e) return !1;
                ((t = t.toLowerCase()), (e = e.toLowerCase()));
                const r = /^\[?([a-f0-9:]+)\]?$/i;
                if (/^(\d{1,3}\.){3}\d{1,3}$/.test(t) || r.test(t)) return !1;
                const n = t.split("."),
                  a = e.split(".");
                if (n.length < a.length) return !1;
                for (let t = 1; t <= a.length; t++)
                  if (n[n.length - t] !== a[a.length - t]) return !1;
                return !0;
              })(e, t),
            )
          );
        } catch (t) {
          return (t.message, !1);
        }
      },
      d = u(s, t),
      f = u(h, t);
    if (n);
    else if (d) ((c = a), (l = r || e));
    else if (f || (o && i))
      try {
        ((c = await _(t)), (l = e));
      } catch (n) {
        (n.message, (c = a || t), (l = r || e));
      }
    else o && ((c = a || t), (l = e));
    return { finalTargetHost: c, finalTargetPort: l };
  } catch (r) {
    return (
      r.message,
      o && ((c = a || t), (l = e)),
      { finalTargetHost: c, finalTargetPort: l }
    );
  }
}
async function _(t) {
  try {
    const e = await fetch(`${o}?name=${t}&type=A`, {
      headers: { Accept: "application/dns-json" },
    });
    if (!e.ok)
      throw new Error(
        `[resolveDomainToRouteX] request failed with status code: ${e.status}`,
      );
    const r = await e.json();
    JSON.stringify(r, null, 2);
    const n = r?.Answer?.find((t) => 1 === t.type && t.data);
    if (!n) throw new Error("No valid A record found");
    const a = n.data,
      s = (function (t) {
        const e = t.trim().split(".");
        if (4 !== e.length) throw new Error("Invalid IPv4 address");
        const r = e.map((t) => {
          const e = Number(t);
          if (!/^\d+$/.test(t) || isNaN(e) || e < 0 || e > 255)
            throw new Error(`Invalid IPv4 segment: ${t}`);
          return e.toString(16).padStart(2, "0");
        });
        let n = !0;
        if (!c || "string" != typeof c || !c.includes("::"))
          throw new Error(
            "[convertToRouteX] Invalid manual prefix; must be a valid IPv6 prefix",
          );
        const a = `${r[0]}${r[1]}:${r[2]}${r[3]}`.toLowerCase(),
          s = `${c}${a}`;
        return n ? `[${s}]` : s;
      })(a);
    return s;
  } catch (t) {
    throw (
      t.message,
      new Error(`[resolveDomainToRouteX] resolution failed: ${t.message}`)
    );
  }
}
function E(t) {
  return t
    ? t
        .split(/[\n,]+/)
        .map((t) => t.trim())
        .filter(Boolean)
    : [];
}
!(function () {
  var t = "input is invalid type",
    e = "object" == typeof window,
    r = e ? window : {};
  r.JS_SHA256_NO_WINDOW && (e = !1);
  var n = !e && "object" == typeof self,
    a =
      !r.JS_SHA256_NO_NODE_JS &&
      "object" == typeof process &&
      process.versions &&
      process.versions.node;
  a ? (r = global) : n && (r = self);
  var s =
      !r.JS_SHA256_NO_COMMON_JS && "object" == typeof module && module.exports,
    i = "function" == typeof define && define.amd,
    o = !r.JS_SHA256_NO_ARRAY_BUFFER && "undefined" != typeof ArrayBuffer,
    c = "0123456789abcdef".split(""),
    h = [-2147483648, 8388608, 32768, 128],
    l = [24, 16, 8, 0],
    u = [
      1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
      2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
      1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
      264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
      2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
      113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
      1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
      3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
      430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
      1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
      2428436474, 2756734187, 3204031479, 3329325298,
    ],
    d = ["hex", "array", "digest", "arrayBuffer"],
    f = [];
  ((!r.JS_SHA256_NO_NODE_JS && Array.isArray) ||
    (Array.isArray = function (t) {
      return "[object Array]" === Object.prototype.toString.call(t);
    }),
    !o ||
      (!r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW && ArrayBuffer.isView) ||
      (ArrayBuffer.isView = function (t) {
        return (
          "object" == typeof t &&
          t.buffer &&
          t.buffer.constructor === ArrayBuffer
        );
      }));
  var p = function (t, e) {
      return function (r) {
        return new g(e, !0).update(r)[t]();
      };
    },
    y = function (t) {
      var e = p("hex", t);
      (a && (e = w(e, t)),
        (e.create = function () {
          return new g(t);
        }),
        (e.update = function (t) {
          return e.create().update(t);
        }));
      for (var r = 0; r < d.length; ++r) {
        var n = d[r];
        e[n] = p(n, t);
      }
      return e;
    },
    w = function (e, n) {
      var a,
        s = require("node:crypto"),
        i = require("node:buffer").Buffer,
        o = n ? "sha224" : "sha256";
      a =
        i.from && !r.JS_SHA256_NO_BUFFER_FROM
          ? i.from
          : function (t) {
              return new i(t);
            };
      return function (r) {
        if ("string" == typeof r)
          return s.createHash(o).update(r, "utf8").digest("hex");
        if (null == r) throw new Error(t);
        return (
          r.constructor === ArrayBuffer && (r = new Uint8Array(r)),
          Array.isArray(r) || ArrayBuffer.isView(r) || r.constructor === i
            ? s.createHash(o).update(a(r)).digest("hex")
            : e(r)
        );
      };
    },
    m = function (t, e) {
      return function (r, n) {
        return new v(r, e, !0).update(n)[t]();
      };
    },
    b = function (t) {
      var e = m("hex", t);
      ((e.create = function (e) {
        return new v(e, t);
      }),
        (e.update = function (t, r) {
          return e.create(t).update(r);
        }));
      for (var r = 0; r < d.length; ++r) {
        var n = d[r];
        e[n] = m(n, t);
      }
      return e;
    };
  function g(t, e) {
    (e
      ? ((f[0] =
          f[16] =
          f[1] =
          f[2] =
          f[3] =
          f[4] =
          f[5] =
          f[6] =
          f[7] =
          f[8] =
          f[9] =
          f[10] =
          f[11] =
          f[12] =
          f[13] =
          f[14] =
          f[15] =
            0),
        (this.blocks = f))
      : (this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
      t
        ? ((this.h0 = 3238371032),
          (this.h1 = 914150663),
          (this.h2 = 812702999),
          (this.h3 = 4144912697),
          (this.h4 = 4290775857),
          (this.h5 = 1750603025),
          (this.h6 = 1694076839),
          (this.h7 = 3204075428))
        : ((this.h0 = 1779033703),
          (this.h1 = 3144134277),
          (this.h2 = 1013904242),
          (this.h3 = 2773480762),
          (this.h4 = 1359893119),
          (this.h5 = 2600822924),
          (this.h6 = 528734635),
          (this.h7 = 1541459225)),
      (this.block = this.start = this.bytes = this.hBytes = 0),
      (this.finalized = this.hashed = !1),
      (this.first = !0),
      (this.is224 = t));
  }
  function v(e, r, n) {
    var a,
      s = typeof e;
    if ("string" === s) {
      var i,
        c = [],
        h = e.length,
        l = 0;
      for (a = 0; a < h; ++a)
        (i = e.charCodeAt(a)) < 128
          ? (c[l++] = i)
          : i < 2048
            ? ((c[l++] = 192 | (i >>> 6)), (c[l++] = 128 | (63 & i)))
            : i < 55296 || i >= 57344
              ? ((c[l++] = 224 | (i >>> 12)),
                (c[l++] = 128 | ((i >>> 6) & 63)),
                (c[l++] = 128 | (63 & i)))
              : ((i =
                  65536 + (((1023 & i) << 10) | (1023 & e.charCodeAt(++a)))),
                (c[l++] = 240 | (i >>> 18)),
                (c[l++] = 128 | ((i >>> 12) & 63)),
                (c[l++] = 128 | ((i >>> 6) & 63)),
                (c[l++] = 128 | (63 & i)));
      e = c;
    } else {
      if ("object" !== s) throw new Error(t);
      if (null === e) throw new Error(t);
      if (o && e.constructor === ArrayBuffer) e = new Uint8Array(e);
      else if (!(Array.isArray(e) || (o && ArrayBuffer.isView(e))))
        throw new Error(t);
    }
    e.length > 64 && (e = new g(r, !0).update(e).array());
    var u = [],
      d = [];
    for (a = 0; a < 64; ++a) {
      var f = e[a] || 0;
      ((u[a] = 92 ^ f), (d[a] = 54 ^ f));
    }
    (g.call(this, r, n),
      this.update(d),
      (this.oKeyPad = u),
      (this.inner = !0),
      (this.sharedMemory = n));
  }
  ((g.prototype.update = function (e) {
    if (!this.finalized) {
      var r,
        n = typeof e;
      if ("string" !== n) {
        if ("object" !== n) throw new Error(t);
        if (null === e) throw new Error(t);
        if (o && e.constructor === ArrayBuffer) e = new Uint8Array(e);
        else if (!(Array.isArray(e) || (o && ArrayBuffer.isView(e))))
          throw new Error(t);
        r = !0;
      }
      for (var a, s, i = 0, c = e.length, h = this.blocks; i < c; ) {
        if (
          (this.hashed &&
            ((this.hashed = !1),
            (h[0] = this.block),
            (this.block =
              h[16] =
              h[1] =
              h[2] =
              h[3] =
              h[4] =
              h[5] =
              h[6] =
              h[7] =
              h[8] =
              h[9] =
              h[10] =
              h[11] =
              h[12] =
              h[13] =
              h[14] =
              h[15] =
                0)),
          r)
        )
          for (s = this.start; i < c && s < 64; ++i)
            h[s >>> 2] |= e[i] << l[3 & s++];
        else
          for (s = this.start; i < c && s < 64; ++i)
            (a = e.charCodeAt(i)) < 128
              ? (h[s >>> 2] |= a << l[3 & s++])
              : a < 2048
                ? ((h[s >>> 2] |= (192 | (a >>> 6)) << l[3 & s++]),
                  (h[s >>> 2] |= (128 | (63 & a)) << l[3 & s++]))
                : a < 55296 || a >= 57344
                  ? ((h[s >>> 2] |= (224 | (a >>> 12)) << l[3 & s++]),
                    (h[s >>> 2] |= (128 | ((a >>> 6) & 63)) << l[3 & s++]),
                    (h[s >>> 2] |= (128 | (63 & a)) << l[3 & s++]))
                  : ((a =
                      65536 +
                      (((1023 & a) << 10) | (1023 & e.charCodeAt(++i)))),
                    (h[s >>> 2] |= (240 | (a >>> 18)) << l[3 & s++]),
                    (h[s >>> 2] |= (128 | ((a >>> 12) & 63)) << l[3 & s++]),
                    (h[s >>> 2] |= (128 | ((a >>> 6) & 63)) << l[3 & s++]),
                    (h[s >>> 2] |= (128 | (63 & a)) << l[3 & s++]));
        ((this.lastByteIndex = s),
          (this.bytes += s - this.start),
          s >= 64
            ? ((this.block = h[16]),
              (this.start = s - 64),
              this.hash(),
              (this.hashed = !0))
            : (this.start = s));
      }
      return (
        this.bytes > 4294967295 &&
          ((this.hBytes += (this.bytes / 4294967296) | 0),
          (this.bytes = this.bytes % 4294967296)),
        this
      );
    }
  }),
    (g.prototype.finalize = function () {
      if (!this.finalized) {
        this.finalized = !0;
        var t = this.blocks,
          e = this.lastByteIndex;
        ((t[16] = this.block),
          (t[e >>> 2] |= h[3 & e]),
          (this.block = t[16]),
          e >= 56 &&
            (this.hashed || this.hash(),
            (t[0] = this.block),
            (t[16] =
              t[1] =
              t[2] =
              t[3] =
              t[4] =
              t[5] =
              t[6] =
              t[7] =
              t[8] =
              t[9] =
              t[10] =
              t[11] =
              t[12] =
              t[13] =
              t[14] =
              t[15] =
                0)),
          (t[14] = (this.hBytes << 3) | (this.bytes >>> 29)),
          (t[15] = this.bytes << 3),
          this.hash());
      }
    }),
    (g.prototype.hash = function () {
      var t,
        e,
        r,
        n,
        a,
        s,
        i,
        o,
        c,
        h = this.h0,
        l = this.h1,
        d = this.h2,
        f = this.h3,
        p = this.h4,
        y = this.h5,
        w = this.h6,
        m = this.h7,
        b = this.blocks;
      for (t = 16; t < 64; ++t)
        ((e =
          (((a = b[t - 15]) >>> 7) | (a << 25)) ^
          ((a >>> 18) | (a << 14)) ^
          (a >>> 3)),
          (r =
            (((a = b[t - 2]) >>> 17) | (a << 15)) ^
            ((a >>> 19) | (a << 13)) ^
            (a >>> 10)),
          (b[t] = (b[t - 16] + e + b[t - 7] + r) | 0));
      for (c = l & d, t = 0; t < 64; t += 4)
        (this.first
          ? (this.is224
              ? ((s = 300032),
                (m = ((a = b[0] - 1413257819) - 150054599) | 0),
                (f = (a + 24177077) | 0))
              : ((s = 704751109),
                (m = ((a = b[0] - 210244248) - 1521486534) | 0),
                (f = (a + 143694565) | 0)),
            (this.first = !1))
          : ((e =
              ((h >>> 2) | (h << 30)) ^
              ((h >>> 13) | (h << 19)) ^
              ((h >>> 22) | (h << 10))),
            (n = (s = h & l) ^ (h & d) ^ c),
            (m =
              (f +
                (a =
                  m +
                  (r =
                    ((p >>> 6) | (p << 26)) ^
                    ((p >>> 11) | (p << 21)) ^
                    ((p >>> 25) | (p << 7))) +
                  ((p & y) ^ (~p & w)) +
                  u[t] +
                  b[t])) |
              0),
            (f = (a + (e + n)) | 0)),
          (e =
            ((f >>> 2) | (f << 30)) ^
            ((f >>> 13) | (f << 19)) ^
            ((f >>> 22) | (f << 10))),
          (n = (i = f & h) ^ (f & l) ^ s),
          (w =
            (d +
              (a =
                w +
                (r =
                  ((m >>> 6) | (m << 26)) ^
                  ((m >>> 11) | (m << 21)) ^
                  ((m >>> 25) | (m << 7))) +
                ((m & p) ^ (~m & y)) +
                u[t + 1] +
                b[t + 1])) |
            0),
          (e =
            (((d = (a + (e + n)) | 0) >>> 2) | (d << 30)) ^
            ((d >>> 13) | (d << 19)) ^
            ((d >>> 22) | (d << 10))),
          (n = (o = d & f) ^ (d & h) ^ i),
          (y =
            (l +
              (a =
                y +
                (r =
                  ((w >>> 6) | (w << 26)) ^
                  ((w >>> 11) | (w << 21)) ^
                  ((w >>> 25) | (w << 7))) +
                ((w & m) ^ (~w & p)) +
                u[t + 2] +
                b[t + 2])) |
            0),
          (e =
            (((l = (a + (e + n)) | 0) >>> 2) | (l << 30)) ^
            ((l >>> 13) | (l << 19)) ^
            ((l >>> 22) | (l << 10))),
          (n = (c = l & d) ^ (l & f) ^ o),
          (p =
            (h +
              (a =
                p +
                (r =
                  ((y >>> 6) | (y << 26)) ^
                  ((y >>> 11) | (y << 21)) ^
                  ((y >>> 25) | (y << 7))) +
                ((y & w) ^ (~y & m)) +
                u[t + 3] +
                b[t + 3])) |
            0),
          (h = (a + (e + n)) | 0),
          (this.chromeBugWorkAround = !0));
      ((this.h0 = (this.h0 + h) | 0),
        (this.h1 = (this.h1 + l) | 0),
        (this.h2 = (this.h2 + d) | 0),
        (this.h3 = (this.h3 + f) | 0),
        (this.h4 = (this.h4 + p) | 0),
        (this.h5 = (this.h5 + y) | 0),
        (this.h6 = (this.h6 + w) | 0),
        (this.h7 = (this.h7 + m) | 0));
    }),
    (g.prototype.hex = function () {
      this.finalize();
      var t = this.h0,
        e = this.h1,
        r = this.h2,
        n = this.h3,
        a = this.h4,
        s = this.h5,
        i = this.h6,
        o = this.h7,
        h =
          c[(t >>> 28) & 15] +
          c[(t >>> 24) & 15] +
          c[(t >>> 20) & 15] +
          c[(t >>> 16) & 15] +
          c[(t >>> 12) & 15] +
          c[(t >>> 8) & 15] +
          c[(t >>> 4) & 15] +
          c[15 & t] +
          c[(e >>> 28) & 15] +
          c[(e >>> 24) & 15] +
          c[(e >>> 20) & 15] +
          c[(e >>> 16) & 15] +
          c[(e >>> 12) & 15] +
          c[(e >>> 8) & 15] +
          c[(e >>> 4) & 15] +
          c[15 & e] +
          c[(r >>> 28) & 15] +
          c[(r >>> 24) & 15] +
          c[(r >>> 20) & 15] +
          c[(r >>> 16) & 15] +
          c[(r >>> 12) & 15] +
          c[(r >>> 8) & 15] +
          c[(r >>> 4) & 15] +
          c[15 & r] +
          c[(n >>> 28) & 15] +
          c[(n >>> 24) & 15] +
          c[(n >>> 20) & 15] +
          c[(n >>> 16) & 15] +
          c[(n >>> 12) & 15] +
          c[(n >>> 8) & 15] +
          c[(n >>> 4) & 15] +
          c[15 & n] +
          c[(a >>> 28) & 15] +
          c[(a >>> 24) & 15] +
          c[(a >>> 20) & 15] +
          c[(a >>> 16) & 15] +
          c[(a >>> 12) & 15] +
          c[(a >>> 8) & 15] +
          c[(a >>> 4) & 15] +
          c[15 & a] +
          c[(s >>> 28) & 15] +
          c[(s >>> 24) & 15] +
          c[(s >>> 20) & 15] +
          c[(s >>> 16) & 15] +
          c[(s >>> 12) & 15] +
          c[(s >>> 8) & 15] +
          c[(s >>> 4) & 15] +
          c[15 & s] +
          c[(i >>> 28) & 15] +
          c[(i >>> 24) & 15] +
          c[(i >>> 20) & 15] +
          c[(i >>> 16) & 15] +
          c[(i >>> 12) & 15] +
          c[(i >>> 8) & 15] +
          c[(i >>> 4) & 15] +
          c[15 & i];
      return (
        this.is224 ||
          (h +=
            c[(o >>> 28) & 15] +
            c[(o >>> 24) & 15] +
            c[(o >>> 20) & 15] +
            c[(o >>> 16) & 15] +
            c[(o >>> 12) & 15] +
            c[(o >>> 8) & 15] +
            c[(o >>> 4) & 15] +
            c[15 & o]),
        h
      );
    }),
    (g.prototype.toString = g.prototype.hex),
    (g.prototype.digest = function () {
      this.finalize();
      var t = this.h0,
        e = this.h1,
        r = this.h2,
        n = this.h3,
        a = this.h4,
        s = this.h5,
        i = this.h6,
        o = this.h7,
        c = [
          (t >>> 24) & 255,
          (t >>> 16) & 255,
          (t >>> 8) & 255,
          255 & t,
          (e >>> 24) & 255,
          (e >>> 16) & 255,
          (e >>> 8) & 255,
          255 & e,
          (r >>> 24) & 255,
          (r >>> 16) & 255,
          (r >>> 8) & 255,
          255 & r,
          (n >>> 24) & 255,
          (n >>> 16) & 255,
          (n >>> 8) & 255,
          255 & n,
          (a >>> 24) & 255,
          (a >>> 16) & 255,
          (a >>> 8) & 255,
          255 & a,
          (s >>> 24) & 255,
          (s >>> 16) & 255,
          (s >>> 8) & 255,
          255 & s,
          (i >>> 24) & 255,
          (i >>> 16) & 255,
          (i >>> 8) & 255,
          255 & i,
        ];
      return (
        this.is224 ||
          c.push((o >>> 24) & 255, (o >>> 16) & 255, (o >>> 8) & 255, 255 & o),
        c
      );
    }),
    (g.prototype.array = g.prototype.digest),
    (g.prototype.arrayBuffer = function () {
      this.finalize();
      var t = new ArrayBuffer(this.is224 ? 28 : 32),
        e = new DataView(t);
      return (
        e.setUint32(0, this.h0),
        e.setUint32(4, this.h1),
        e.setUint32(8, this.h2),
        e.setUint32(12, this.h3),
        e.setUint32(16, this.h4),
        e.setUint32(20, this.h5),
        e.setUint32(24, this.h6),
        this.is224 || e.setUint32(28, this.h7),
        t
      );
    }),
    (v.prototype = new g()),
    (v.prototype.finalize = function () {
      if ((g.prototype.finalize.call(this), this.inner)) {
        this.inner = !1;
        var t = this.array();
        (g.call(this, this.is224, this.sharedMemory),
          this.update(this.oKeyPad),
          this.update(t),
          g.prototype.finalize.call(this));
      }
    }));
  var k = y();
  ((k.sha256 = k),
    (k.sha224 = y(!0)),
    (k.sha256.hmac = b()),
    (k.sha224.hmac = b(!0)),
    s
      ? (module.exports = k)
      : ((r.sha256 = k.sha256),
        (r.sha224 = k.sha224),
        i &&
          define(function () {
            return k;
          })));
})();
const U = "KV_CONFIG";
async function $(t) {
  return t && t.amclubs
    ? void 0 === t.amclubs
      ? new Response("Error: amclubs KV_NAMESPACE is not bound.", {
          status: 400,
        })
      : null
    : new Response("Error: amclubs KV_NAMESPACE is not bound.", {
        status: 400,
      });
}
async function T(t) {
  try {
    const e = await t.amclubs.get(U, { type: "json" });
    return e
      ? {
          kv_id: e.kv_id || "",
          kv_pDomain: Array.isArray(e.kv_pDomain)
            ? e.kv_pDomain
            : E(e.kv_pDomain),
          kv_p64Domain: Array.isArray(e.kv_p64Domain)
            ? e.kv_p64Domain
            : E(e.kv_p64Domain),
        }
      : { kv_id: "", kv_pDomain: [], kv_p64Domain: [] };
  } catch (t) {
    return { kv_id: "", kv_pDomain: [], kv_p64Domain: [] };
  }
}
async function R(t) {
  const r = await $(t);
  if (r) return r;
  const { kv_id: n, kv_pDomain: a, kv_p64Domain: s } = await T(t);
  return new Response(
    I({
      base64Title: g,
      suffix: "-设置",
      heading: "配置设置",
      bodyContent: `\n                <label>ID：</label>\n                <input type="text" id="kv_id" placeholder="请输入ID" value="${n || ""}" /><br/><br/>\n                <label>pDomain（逗号或换行分隔多个域名）：</label>\n                <textarea id="kv_pDomain" placeholder="例如 a.com,b.com" rows="4">${a.join("\n")}</textarea><br/><br/>\n                <label>p64Domain（逗号或换行分隔多个域名）：</label>\n                <textarea id="kv_p64Domain" placeholder="例如 b.com,c.com" rows="4">${s.join("\n")}</textarea><br/><br/>\n                <button onclick="saveData()">保存</button>\n                <div id="saveStatus" style="margin-top:10px;color:green;"></div>\n\n                <script>\n                    async function saveData() {\n                        const kv_id = document.getElementById('kv_id').value;\n                        const kv_pDomain = document.getElementById('kv_pDomain').value;\n                        const kv_p64Domain = document.getElementById('kv_p64Domain').value;\n\n                        const body = JSON.stringify({ kv_id, kv_pDomain, kv_p64Domain });\n                        try {\n                            const response = await fetch('/${e}/set', {\n                                method: 'POST',\n                                headers: { 'Content-Type': 'application/json' },\n                                body\n                            });\n\n                            const text = await response.text();\n                            const statusDiv = document.getElementById('saveStatus');\n                            statusDiv.innerText = text;\n\n                            setTimeout(() => {\n                                statusDiv.innerText = '';\n                            }, 3000);\n                        } catch (err) {\n                            const statusDiv = document.getElementById('saveStatus');\n                            statusDiv.innerText = '保存失败: ' + err.message;\n                            setTimeout(() => {\n                                statusDiv.innerText = '';\n                            }, 3000);\n                        }\n                    }\n                <\/script>\n            `,
    }),
    { headers: { "Content-Type": "text/html; charset=UTF-8" }, status: 200 },
  );
}
const N = 1,
  L = 2;
function O(t, e, r) {
  const n = new ReadableStream({
    start(n) {
      (t.addEventListener("message", (t) => {
        const e = t.data;
        n.enqueue(e);
      }),
        t.addEventListener("close", () => {
          (B(t), n.close());
        }),
        t.addEventListener("error", (t) => {
          (r("pipeServer has error"), n.error(t));
        }));
      const { earlyData: a, error: s } = (function (t) {
        if (!t) return { earlyData: null, error: null };
        try {
          t = t.replace(/-/g, "+").replace(/_/g, "/");
          const e = atob(t);
          return {
            earlyData: Uint8Array.from(e, (t) => t.charCodeAt(0)).buffer,
            error: null,
          };
        } catch (t) {
          return { earlyData: null, error: t };
        }
      })(e);
      s ? n.error(s) : a && n.enqueue(a);
    },
    pull(t) {},
    cancel(e) {
      (r(`ReadableStream was canceled, due to ${e}`), B(t));
    },
  });
  return n;
}
async function W(e, n, s, o, c, h, l, f) {
  async function p(r, a, s = !1) {
    const i = s
      ? await (async function (e, r, n) {
          const { username: a, password: s, hostname: i, port: o } = d,
            c = t({ hostname: i, port: o }),
            h = c.writable.getWriter(),
            l = c.readable.getReader(),
            u = new TextEncoder(),
            f = async () => {
              const t = new Uint8Array([5, 2, 0, 2]);
              await h.write(t);
            },
            p = async () => {
              if (2 === (await l.read()).value[1]) {
                if (!a || !s) throw new Error("Authentication required");
                const t = new Uint8Array([
                  1,
                  a.length,
                  ...u.encode(a),
                  s.length,
                  ...u.encode(s),
                ]);
                await h.write(t);
                const e = (await l.read()).value;
                if (1 !== e[0] || 0 !== e[1])
                  throw new Error("Authentication failed");
              }
            },
            y = async () => {
              let t;
              switch (e) {
                case 1:
                  t = new Uint8Array([1, ...r.split(".").map(Number)]);
                  break;
                case 2:
                  t = new Uint8Array([3, r.length, ...u.encode(r)]);
                  break;
                case 3:
                  t = new Uint8Array([
                    4,
                    ...r
                      .split(":")
                      .flatMap((t) => [
                        parseInt(t.slice(0, 2), 16),
                        parseInt(t.slice(2), 16),
                      ]),
                  ]);
                  break;
                default:
                  throw new Error("Invalid address type");
              }
              const a = new Uint8Array([5, 1, 0, ...t, n >> 8, 255 & n]);
              await h.write(a);
              if (0 !== (await l.read()).value[1])
                throw new Error("Connection failed");
            };
          try {
            (await f(), await p(), await y());
          } catch (t) {
            return (t(t.message), null);
          } finally {
            (h.releaseLock(), l.releaseLock());
          }
          return c;
        })(f, r, a)
      : t({ hostname: r, port: a, servername: n });
    ((e.value = i),
      l(`[connectAndWrite]--\x3e s5:${s} connected to ${r}:${a}`));
    const c = i.writable.getWriter();
    return (await c.write(o), c.releaseLock(), i);
  }
  async function y() {
    const t = a || n,
      e = r || s,
      i = u ? await p(t, e, !0) : await p(t, e);
    (l(`[retry]--\x3e s5:${u} connected to ${t}:${e}`),
      i.closed
        .catch((t) => {
          l("[retry]--\x3e tcpS closed error", t);
        })
        .finally(() => {
          B(c);
        }),
      C(i, c, h, null, l));
  }
  async function w() {
    const t = await _(n),
      e = s,
      r = u ? await p(t, e, !0) : await p(t, e);
    (l(`[nat64]--\x3e s5:${u} connected to ${t}:${e}`),
      r.closed
        .catch((t) => {
          l("[nat64]--\x3e tcpS closed error", t);
        })
        .finally(() => {
          B(c);
        }),
      C(r, c, h, null, l));
  }
  async function m(t, e) {
    try {
      await t();
      return (l(`[finalStep] ${e} finished normally`), !0);
    } catch (t) {
      return (l(`[finalStep] ${e} failed:`, t), !1);
    }
  }
  const { finalTargetHost: b, finalTargetPort: g } = await D(n, s, u, !1);
  C(
    await p(b, g, !!u),
    c,
    h,
    async function () {
      try {
        if (i) {
          l(
            "[finalStep] p64=true → try nat64() first, then retry() if nat64 fails",
          );
          (await m(w, "nat64")) || (await m(y, "retry"));
        } else {
          l(
            "[finalStep] p64=false → try retry() first, then nat64() if retry fails",
          );
          (await m(y, "retry")) || (await m(w, "nat64"));
        }
      } catch (t) {
        l("[finalStep] error:", t);
      }
    },
    l,
  );
}
async function C(t, e, r, n, a) {
  let s = r,
    i = !1;
  (await t.readable
    .pipeTo(
      new WritableStream({
        start() {},
        async write(t, r) {
          ((i = !0),
            e.readyState !== N &&
              r.error(
                "[transferDataStream]--\x3e pipe.readyState is not open, maybe close",
              ),
            s
              ? (e.send(await new Blob([s, t]).arrayBuffer()), (s = null))
              : e.send(t));
        },
        close() {
          a(
            `[transferDataStream]--\x3e serviceCallion!.readable is close with hasIncomingData is ${i}`,
          );
        },
        abort(t) {},
      }),
    )
    .catch((t) => {
      B(e);
    }),
    !1 === i &&
      "function" == typeof n &&
      (a("[transferDataStream]--\x3e no data, invoke retry flow"), n()));
}
function B(t) {
  try {
    (t.readyState !== N && t.readyState !== L) || t.close();
  } catch (t) {}
}
function I({ base64Title: t, suffix: e = "", heading: r, bodyContent: n }) {
  return `<!DOCTYPE html>\n        <html lang="zh-CN">\n        <head>\n        <meta charset="UTF-8">\n        <title>${
    (function (t) {
      const e = Uint8Array.from(atob(t), (t) => t.charCodeAt(0));
      return new TextDecoder("utf-8").decode(e);
    })(t) + e
  }</title>\n        <style>\n        body {\n            margin: 0;\n            height: 100vh;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-family: 'Segoe UI', Arial, sans-serif;\n            background: linear-gradient(135deg, #5563de, #89f7fe);\n            color: #333;\n        }\n\n        .login-container {\n            background: #fff;\n            padding: 30px 25px;\n            border-radius: 15px;\n            box-shadow: 0 8px 25px rgba(0,0,0,0.2);\n            width: 400px;\n            text-align: center;\n            animation: fadeIn 0.6s ease-in-out;\n        }\n\n        h1 { font-size: 24px; margin-bottom: 20px; color: #4A4A4A; }\n\n        input[type="text"], input[type="password"], textarea {\n            width: 100%;\n            padding: 12px;\n            font-size: 16px;\n            margin-top: 10px;\n            border: 1px solid #ccc;\n            border-radius: 8px;\n            box-sizing: border-box;\n        }\n\n        button {\n            margin-top: 20px;\n            width: 100%;\n            padding: 12px;\n            font-size: 16px;\n            border: none;\n            background-color: #4CAF50;\n            color: white;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: bold;\n            transition: background 0.3s;\n        }\n\n        button:hover { background-color: #45a049; }\n\n        #saveStatus { margin-top: 15px; font-weight: bold; color: green; }\n\n        .links { margin-top: 15px; font-size: 14px; }\n        .link-row { display: flex; justify-content: space-between; margin-bottom: 10px; }\n        .link-row a {\n            flex: 1;\n            margin: 0 5px;\n            padding: 6px 0;\n            color: #5563DE;\n            text-decoration: none;\n            text-align: center;\n            border-radius: 6px;\n            background: #f1f3ff;\n            transition: all 0.3s;\n        }\n        .link-row a:hover { background: #e0e4ff; color: #333; }\n\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(20px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n        </style>\n        </head>\n        <body>\n        <div class="login-container">\n        <h1>${r}</h1>\n        ${n}\n        <div class="links">\n            <div class="link-row">\n                <a href="${y}" target="_blank">🎬 YouTube</a>\n                <a href="${w}" target="_blank">💬 Telegram</a>\n            </div>\n            <div class="link-row">\n                <a href="${m}" target="_blank">📂 GitHub</a>\n                <a href="${b}" target="_blank">🌐 Blog</a>\n            </div>\n        </div>\n        </div>\n        </body>\n    </html>`;
}
export { v as default };
